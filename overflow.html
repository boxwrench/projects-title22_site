<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Overflow | Title 22</title>
    <meta name="description" content="Interesting finds, curiosities, and diversions." />
    <link rel="icon" type="image/png" href="assets/brand/favicon/22favicon.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Outfit:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/static.css" />
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="container header-inner">
        <a href="/" class="logo">
          <img src="assets/brand/favicon/22favicon.png" alt="Title 22" class="logo-img" />
          <span class="logo-text">Title 22</span>
        </a>
        <nav class="nav">
          <a href="projects.html" class="nav-link">Projects</a>
          <a href="tools.html" class="nav-link">Tools</a>
          <a href="research.html" class="nav-link">Research</a>
          <a href="writing.html" class="nav-link">Writing</a>
          <a href="resume.html" class="nav-link">Resume</a>
          <a href="overflow.html" class="nav-link active">Overflow</a>
        </nav>
      </div>
    </header>

    <main class="main-content">
      
      <!-- Overflow Section (Full Page View) -->
      <section class="category-section" style="padding-top: 2rem;">
        <div class="container">
          <div class="category-header">
            <div class="category-image">
              <picture>
                <source srcset="assets/cards/optimized/overflow_header.webp" type="image/webp" />
                <img src="assets/cards/optimized/overflow_header.png" alt="Overflow" />
              </picture>
              <div class="category-overlay">
                <h1 class="category-title">Overflow</h1>
                <p class="category-subtitle">Interesting finds, curiosities, and diversions.</p>
              </div>
            </div>
          </div>
          
          <!-- Categories will be loaded here -->
          <div id="overflow-content">
            <!-- Content loaded dynamically from content/overflow.json -->
          </div>
        </div>
      </section>

      <!-- Newsletter -->
      <section class="newsletter-section">
        <div class="container newsletter-box">
          <h2 class="newsletter-title">Join the Flow</h2>
          <p class="newsletter-desc">Weekly notes on water treatment operations, chemistry, and systems thinking.</p>
          <form class="newsletter-form" action="#" method="POST">
            <input type="email" class="newsletter-input" placeholder="Enter your email" required />
            <button type="submit" class="newsletter-btn">Subscribe</button>
          </form>
          <p class="newsletter-note">Read by 500+ operators and engineers.</p>
        </div>
      </section>

    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-bg"></div>
      <div class="container footer-inner">
        <div class="footer-brand">
          <img src="assets/brand/favicon/22favicon.png" alt="Title 22" class="footer-logo" />
          <span>Title 22</span>
        </div>
        <p class="footer-copy">&copy; 2025 Title 22. Built for water treatment professionals.</p>
      </div>
    </footer>
    <script src="js/parallax.js"></script>
    <script src="js/content-loader.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', async () => {
        // Load overflow content
        const data = await ContentLoader.load('content/overflow.json');
        if (data && data.categories) {
          const container = document.getElementById('overflow-content');
          container.innerHTML = '';
          
          // Render each category
          data.categories.forEach(category => {
            const section = document.createElement('div');
            section.className = 'section';
            section.style.paddingTop = '0';
            
            const title = document.createElement('h3');
            title.className = 'small-title';
            title.textContent = category.name;
            
            const list = document.createElement('ul');
            list.className = 'simple-list';
            list.innerHTML = (category.items || []).map(item => ContentLoader.renderSimpleItem(item)).join('');
            
            section.appendChild(title);
            section.appendChild(list);
            container.appendChild(section);
          });
        }
      });
    </script>
  </body>
</html>
